##Git 基础
主要讲一些，初始化一个新的代码仓库的使用，开始或停止某些文件的跟踪。暂停或提交某些更新。已经展示如何让git忽略某些文件。如何快速且容易地撤销犯下的小错误；如何浏览项目的更新历史；查看某两次更新之间的差异；以及如何从远程仓库拉数据下来或推数据上去。

##获取项目的Git仓库
有两种获取Git仓库的方法：第一是在现有的项目现存的目录下，通过导入所有文件来创建
新的Git仓库。第二种是从已有的Git仓库克隆出一个新的镜像仓库来。

####从当前目录初始化
要对现有的某个项目开始Git管理，需要在当前目录，执行：
```java
$ git init
```
初始化后，目录中会出现一个Git目录，所有Git需要的数据和资源都存放在这个目录下。
但这个时候我们还没有进行任何操作呢。

####从现有仓库克隆
我们可以使用git clone命令，这样克隆下来的数据在本地，其实是跟服务器上的完全一致。

```java
$ git clone git@github.com:linlin/git.git
也可以
$ git clome git@github.com:linlin/git.git mygit
```

* 工作目录下面的所有文件就两种状态：已跟踪或未跟踪
* 已跟踪的文件是指本来被纳入控制管理的文件，在上次快照中有它们的记录，工作一段
* 时间后，他们的状态可能是未更新，已修改或者已放入暂存区。
* 其它的文件都属于未跟踪的文件


####检查当前文件的状态
想要确定哪些文件处于什么状态，可能用 `git status` 命令。


####跟踪新文件
使用命令 git add 开始跟踪一个新文件
```java
$ git add fileName
```
现在再运行git status名利，会看靠fileName文件已被跟踪，并处于暂存状态；
`Changes to be committed:`
这个时候已经暂存了，如果此时提交，那么该文件此时就留存在历史记录中。
如果跟踪的是目录下，那么就是当前目录下的所有文件。

####赞成已修改文件
如果我们修改了之前已经跟踪的文件，再次执行 git status 的时候，会看到：
```java
Changed but not updated:
```
说明已跟踪文件的内容发生了变化，需要暂存这个更新。需要运行 git add 命令
这个命令是多功能命令，根据目标文件的状态不同，此命令效果也不同；可以
用它更新文件，也可以放在暂存区，还能用在合并时把有冲突的文件标记为已解决状态。

`如何这个时候修改的文件会出现两次，一次算未暂存，一次算已暂存。如果这个时候提交，其实条的修改前的。如果要提交修改后的，那么要再次执行 git add`

####忽略某些文件
`.gitignore`
`#`号为注释，将会被git忽略

####查看已暂存和未暂存的更新
git status 的显示比较简单。仅仅列出了修改过的文件，要是想查找修改了什么地方；
可以使用 `git diff` 命令。
基本的解答两个问题：当前作的那些更新还没有缓存？有哪些跟新已经暂存起来准备
好了下次提交？

在提交后再次修改，第二次修改没有提交前执行 `git diff` 
若是要看已经暂存起来的文件和上次提交过的快照之间的差异，可以用 `git diff --cached`
命令。（1.6.1+版本允许使用 git diff --staged 效果都是一样的）

* 注意。单单 git diff 不过是显示还没有暂存起来的改动，而不是这次工作和上次提交
* 之间的差异，所以有的时候一下子暂存了所有的跟新过的文件。运行 git diff 后却
* 发现什么都没有，就是这个原因。

运行git status 查看前后版本
运行 git diff 查看暂存前后的变化

####提交跟新
如果都确定了没有什么文件修改过没有 git add 过，那么运行提交命令 git commit:
```java
$ git commit
```
`shell 设定命令行解析器的位置`
可以使用 -m 参数后跟提交说明的方式，在一行命令中提交更新：
这样就不用单独分开提交了；
```java
$ git commit -m "commit"
```
提交时记录的是放在暂存区域的快照，任何还未暂存的仍然保持已修改状态，可以在下次提交时纳入版本管理。
每一次运行提交操作，都是对你项目作一次快照，以后可以回到这个状态，或进行比较。

####跳过暂存区域
尽管使用暂存区域的方式可以静心准备要提交的细节，但有时候比较繁琐。
Git提供了个我还跳过使用暂存区域的方式。
`git commit -a` 加了 -a , Git就会自动把所有几经跟踪过的文件暂存起来一并提交。

####移除文件
要从Git中移除某个文件，就必须要从已跟踪文件清单中移除（确切的说是从暂存区域移除），
然后提交。 用  `git rm`命令完成此项工作，连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件的清单了；

如果只是简单地从工作目录中手工删除文件，运行 git status 时就是
`Changed but not updated` 部分（就是未暂存清单）看到；
然后运行 git rm 记录此次移除文件的操作；最后提交的时候，该文件就不纳入版本管理了。
如果删除之前修改过并且保存在缓存区域的话，必须用删除选项 -f 强制删除，以防止误删除文件后丢失修改的内容。

* 另外一种情况，我们想把文件从 Git仓库中删除（即暂存区域移除），但仍然希望保留
* 在当前工作目录中。就是说从跟踪清单中删除。比如不小心放入仓库后，要移除跟踪但不要删除文件，以便稍后放在.gitignore文件上。
* 用 --cached

```java
$ git rm --cached fileName
```

####移动文件
Git并不跟踪文件移动操作，执行 git mv 命令
```java
$ git mv fileForm to fileTo
```
它会执行三个步骤：
* $ mv fileform fileto
* $ git rm fileform
* $ git add fileto

有的时候，如果用其他工具批处理改名的话，要记得提交前删除老的文件名，在添加新的文件名。

####查看提交历史
提交了若干跟新之后，又或者克隆了某个项目，想回顾下提交历史，可以使用git log命令。
也可以使用 git log -p -2 查看最近两次的内容

* 限制输出长度
* 输出格式等等


`gitk`命令可以进入图形化界面可以更方便的查看提交记录。

####撤销操作
任何时候，我们都可能需要撤销刚刚所做的某些操作，并不是所有的操作都是可以撤销的，所以执行操作的时候还是要小心才对。

####修改最后一个提交
有时候我们提交完后发现漏掉了几个文件没有加，或者提交信息些错了
。想要撤销刚才提交的操错，可以使用`--amend`命令。
```java
$ git commit --amend 
```
####移动文件
Git并不跟踪文件移动操作，执行 git mv 命令
```java
$ git mv fileForm to fileTo
```
它会执行三个步骤：
* $ mv fileform fileto
* $ git rm fileform
* $ git add fileto

有的时候，如果用其他工具批处理改名的话，要记得提交前删除老的文件名，在添加新的文件名。

####查看提交历史
提交了若干跟新之后，又或者克隆了某个项目，想回顾下提交历史，可以使用git log命令。
也可以使用 git log -p -2 查看最近两次的内容

* 限制输出长度
* 输出格式等等


`gitk`命令可以进入图形化界面可以更方便的查看提交记录。

####撤销操作
任何时候，我们都可能需要撤销刚刚所做的某些操作，并不是所有的操作都是可以撤销的，所以执行操作的时候还是要小心才对。

####修改最后一个提交
有时候我们提交完后发现漏掉了几个文件没有加，或者提交信息些错了
。想要撤销刚才提交的操错，可以使用`--amend`命令。
```java
$ git commit --amend 
```
如何此时什么文件都没有修改，俺么就相当于重新更改提交信息。
如果之后又加入了修改，那么在执行。其实其实相当于执行了一遍`commit`

####取消已经暂存的文件
有两个修改过的文件，我们想分开提交。但不小心git add * 全加到了暂存区域。该如何
撤销暂存其中的一个呢？ git status 命令的输出会提示我们如何去做。

`Change to be commited`下面，括号中提示 git reset HEAD <file>...
的方式取消暂存。
```java
$ git reset HEAD filename.md
```
这个时候该文件便从暂存区移动出来了。

####取消对文件的修改
如果觉得修改过发现完全没有必要，该如何取消？ 回到之前的状态。
```java
$ git checkout --filename.md
```
此命令就可以取消修改过的文件。
如果想回退版本，同时保留刚才修改以便将来继续工作，可以用 `stashing` 和分支来处理。

`凡是提交过的文件都是可以恢复的`

####远程仓库的使用
要参与任何一个Git 项目的协作，必须要了解该如何管理远程仓库。远程仓库是指托管
在网络上的项目仓库，可能会有好多个，其中有些你只能读，另外有些可以写。同他人协作
开发某个项目时，需要管理这些远程仓库，以便推送或拉取数据，分享各自的工作进展。管
理远程仓库的工作，包括添加远程库，移除废弃的远程库，管理各式远程库分支，定义是否
跟踪这些分支，等等。

####查看当前的远程库
要查看当前配置有哪些远程仓库，可以用git remote 命令，它会列出每个远程库的简短
名字。在克隆完某个项目后，至少可以看到一个名为origin 的远程库，Git 默认使用这个
名字来标识你所克隆的原始仓库：
```java
$ git clone git@github.com:linlincat/git.git
```
也可以添加参数 -v ，现实对应的克隆地址： 如果有多个远程仓库，此命令将全部列出。
这样我们就可以轻松的拉取他们的提交到本地。

####添加远程仓库
要添加一个新的远程仓库，可以指定一个简单的名字，以便将来引用，运行git remote
add [shortname] [url]：

现在可以用字串pb 指代对应的仓库地址了。比如说，要抓取所有Paul 有的，但本地仓
库没有的信息，可以运行`git fetch pb`：

####从远程仓库抓取数据
正如之前所看到的，可以用下面的命令从远程从仓库抓取数据到本地：
```java
$ git fetch [remote-name]
```

####推送数据到远程仓库
项目进行到一个阶段，要同别人分享目前的成果，可以将本地仓库中的数据推送到远程
仓库。实现这个任务的命令很简单： git push [remote-name] [branch-name]。如果要把
本地的master 分支推送到origin 服务器上（再次说明下，克隆操作会自动使用默认的
master 和origin 名字），可以运行下面的命令：
```java
$ git push origin master
```

####查看远程仓库信息
我们可以通过命令git remote show [remote-name] 查看某个远程仓库的详细信息，比
如要看所克隆的origin 仓库，可以运行：
```java
$ git remote show origin
```

####远程仓库的删除和重命名
新版中Git中可以用git remote rename 命令修改某个远程仓库简短名称，比如想把mk改成puaul.
```java
$ git remote rename mk paul
```

注意，对远程仓库的重命名，也会使对应的分支名称发生变化，原来的pb/master 分支
现在成了paul/master。

碰到远端仓库服务器迁移，或者原来的克隆镜像不再使用，又或者某个参与者不再贡献代
码，那么需要移除对应的远端仓库，可以运行git remote rm 命令：
```java
$ git remote rm paul
$ git remote
origin
```
